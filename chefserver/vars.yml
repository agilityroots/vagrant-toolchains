---
# azure location
location: "eastus"
# name of the environment
env: "poc"
# A common prefix that is prepended to all resource names.
prefix: "za_chefserver"

# azure network resource names and values
rg_name: "{{prefix}}_rg"
vnet_name: "{{prefix}}_vnet"
subnet_name: "{{prefix}}_subnet"
vnet: "10.0.0.0/16"
address_prefix: "10.0.1.0/24"
pubip_name: "{{prefix}}_pubip"
nsg_name: "{{prefix}}_nsg"
nic_name: "{{prefix}}_nic"

# Network Security Group Rules allow access from my IP address only by default

ip_addresses: "52.138.219.235"
nsg_rules:
  - name: SSH
    protocol: Tcp
    destination_port_range: 22
    access: Allow
    priority: 1001
    direction: Inbound
    source_address_prefix: "{{ip_addresses}}"
  - name: HTTP
    protocol: Tcp
    destination_port_range: 80
    access: Allow
    priority: 1011
    direction: Inbound
    source_address_prefix: "{{ip_addresses}}"
  - name: HTTPS
    protocol: Tcp
    destination_port_range: 443
    access: Allow
    priority: 1021
    direction: Inbound
    source_address_prefix: "{{ip_addresses}}"


# VM Configuration
# Note: vm_name cannot have underscores
vm_name: "{{prefix | replace('_','')}}"
vm_size: "Standard_DS1_v2"
user_name: "azureuser"

# The VM Image to Use
vm_image:
  offer: "UbuntuServer"
  publisher: "Canonical"
  sku: '16.04-LTS'
  version: latest

# Azure VM gets tagged with these tags
vm_tags:
  env: "{{env}}"
  ansible_managed: "true"


---
# ansible SSHes to the server as this user.
ansible_user: "azureuser"

# SSH Authentication for ansible
ansible_ssh_private_key_file: "./id_rsa"

# download link to Chef Server deb
download_url: "https://packages.chef.io/files/stable/chef-server/12.17.33/ubuntu/16.04/chef-server-core_12.17.33-1_amd64.deb"

# chef user details
users:
  vish:
    firstname: Vish
    lastname: Venugopalakrishnan
    email: vishwanath.venugopalakrishnan@bupa.com 
    password: ins3CurePas

